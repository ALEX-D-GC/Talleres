# Taller Individual  3
## Reactive Stream

**Semana**: 9

**Objetivos**:

- Aplicar los conocimientos sobre Reactive Stream.
- Generar y procesar flujos de datos reactivos.

### Descripci칩n:

Resuelva los siguientes problemas.

### Problema 1
**Sincronizaci칩n de Sensores**

Descripci칩n: Simula dos sensores que emiten valores peri칩dicos:

```Scala
// Importamos rx.lang.scala.Observable (Para crear flujos de datos reactivos.)
import rx.lang.scala.Observable
// Importamos scala.util.Random (Genera los datos que ser치n emitidos por los observables (como los valores de los sensores))
import scala.util.Random
// Importamos scala.concurrent.duration._ (Para configurar los intervalos de tiempo entre las emisiones del flujo)
import scala.concurrent.duration._

//Primero definimos un objeto llamado sensor
object Sensores extends App {

  // Simulador del Sensor 1: Emite valores entre 20춿C y 30춿C cada 1 segundo
  val sensor1: Observable[Int] = Observable.interval(1.second).map(_ => Random.between(20, 31))

  // Simulador del Sensor 2: Emite valores entre 30춿C y 40춿C cada 1.5 segundos
  val sensor2: Observable[Int] = Observable.interval(1.5.second).map(_ => Random.between(30, 41))

  // Creamos un nuevo Observable llamado(), cobina s1 y s2 emite tupla
  val flujoCombinado: Observable[(Int, Int)] = sensor1.zip(sensor2)

  // Limita el flujo a los primeros 10 pares
  val flujoLimitado: Observable[(Int, Int)] = flujoCombinado.take(10)

  // Procesamiento de datos: Calcula diferencias y genera mensajes
  val flujoProcesado: Observable[String] = flujoLimitado.map { case (s1, s2) =>
    val diferencia = Math.abs(s1 - s2)
    val alerta = if (diferencia > 5) s" 游뚿 춰ALERTA! Diferencia significativa detectada: $diferencia춿C" else ""
    s"Sensor1: $s1춿C, Sensor2: $s2춿C, Diferencia: $diferencia춿C$alerta"
  }

  // Observador para imprimir resultados
  flujoProcesado.subscribe(
    onNext = println,                  // Imprime cada emisi칩n
    onError = e => println(s"Error: $e"), // Maneja errores
    onCompleted = () => println("Flujo completado.") // Indica el fin del flujo
  )

  // Mantener el programa en ejecuci칩n
  Thread.sleep(15000)
}
```

### Problema 2
**Sistema de Alerta Complejo**

Descripci칩n: Simula tres sensores que emiten datos peri칩dicos:

- Sensor1: Temperatura (20춿C a 30춿C).
- Sensor2: Humedad (40% a 60%).
- Sensor3: Presi칩n (950 hPa a 1050 hPa).
- Combina los datos de los tres sensores y detecta si alguna de las m칠tricas est치 fuera de rango.
- Det칠n el flujo despu칠s de 20 combinaciones.

```yaml
Temperature: 22춿C, Humidity: 50%, Pressure: 970 hPa
Temperature: 25춿C, Humidity: 42%, Pressure: 1055 hPa
游뚿 ALERT! Pressure out of range: 1055 hPa
...
```

### Calificaci칩n:

Una vez que termine la primera parte (a l치piz y papel), debe presentar su trabajo a su docente para poder continuar con la segunda parte (칰ltima pregunta)

- 10 puntos si presenta en el horario de pr치cticas y experimentaci칩n.
- 7 puntos presenta en el horario de tutor칤a

La hora m치xima de presentaci칩n ser치 las 08h30
